<%= @get_traffic_light_deductions %>
<canvas id="myChart" width="400" height="400"></canvas>
<script>
var ctx = document.getElementById("myChart");
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: <%= @month_labels.html_safe %>,
        datasets: [{
            label: 'Traffic Light Violations',
            data: <%= @deduction_points %>,
            backgroundColor: [
                'rgba(251,105,0,0.2)'
            ],
            borderColor: [
                'rgba(251,105,0,1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
     scales: {
         yAxes: [{
             ticks: {
                 beginAtZero: true,
                 userCallback: function(label, index, labels) {
                     // when the floored value is the same as the value we have a whole number
                     if (Math.floor(label) === label) {
                         return label;
                     }

                 },
             }
         }],
     },
 }
});
</script>
